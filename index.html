<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Salary Prediction Model</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #000000 0%, #000000 100%);
      color: #FFD700;
    }
    ::placeholder {
      color: #FFD700;
      opacity: 0.5;
    }
    select option[disabled] {
      color: #FFD700;
      opacity: 0.5;
    }
    .fade-in-up {
      animation: fadeInUp 0.5s ease-out forwards;
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .spinner {
      border: 3px solid rgba(255, 215, 0, 0.3);
      border-radius: 50%;
      border-top-color: #FFD700;
      width: 20px;
      height: 20px;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .hover-section:hover {
      transform: scale(1.03);
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

  <div class="bg-[#000000] rounded-2xl shadow-2xl p-8 max-w-xl w-full hover:scale-[1.01] transition-transform duration-300">
    <h1 class="text-4xl font-bold text-[#FFD700] mb-2 text-center">üíº Salary Prediction Model</h1>
    <p class="text-[#FFD700] mb-6 text-center">Input employee details to estimate annual salary.</p>

    <form id="salary-form" class="space-y-5">
      <div class="transition-all duration-300 hover-section">
        <label for="jobTitle" class="block text-sm font-medium text-[#FFD700] mb-1">Enter Job Title</label>
        <select id="jobTitle" name="jobTitle" required class="bg-[#000000] text-[#FFD700] border border-[#FFD700] rounded-lg px-4 py-2 w-full">
          <option disabled selected>e.g. Software Developer</option>
          <option>Software Engineer</option>
          <option>Data Scientist</option>
          <option>Product Manager</option>
          <option>UX Designer</option>
          <option>Data Analyst</option>
          <option>Project Manager</option>
        </select>
      </div>
      <div class="transition-all duration-300 hover-section">
        <label for="education" class="block text-sm font-medium text-[#FFD700] mb-1">Enter Education Level</label>
        <select id="education" name="education" required class="bg-[#000000] text-[#FFD700] border border-[#FFD700] rounded-lg px-4 py-2 w-full">
          <option disabled selected>e.g. Bachelor's Degree</option>
          <option>Bachelor's</option>
          <option>Master's</option>
          <option>PhD</option>
        </select>
      </div>
      <div class="transition-all duration-300 hover-section">
        <label for="experience" class="block text-sm font-medium text-[#FFD700] mb-1">Enter Years of Experience</label>
        <input
          type="number"
          id="experience"
          name="experience"
          min="0"
          max="50"
          required
          placeholder="e.g. 5"
          class="bg-[#000000] text-[#FFD700] border border-[#FFD700] rounded-lg px-4 py-2 w-full placeholder-[#FFD700]"
        />
      </div>

      <div class="transition-all duration-300 hover-section">
        <label for="age" class="block text-sm font-medium text-[#FFD700] mb-1">Enter Age</label>
        <input
          type="number"
          id="age"
          name="age"
          min="18"
          max="80"
          required
          placeholder="e.g. 30"
          class="bg-[#000000] text-[#FFD700] border border-[#FFD700] rounded-lg px-4 py-2 w-full placeholder-[#FFD700]"
        />
      </div>

      <div>
        <button type="submit" id="submit-button" class="w-full bg-[#FFD700] text-[#000000] font-bold py-3 px-4 rounded-lg hover:bg-[#E6C200] transition-all duration-300 flex items-center justify-center h-12">
          <span class="button-text">Predict Annual Salary</span>
          <span class="spinner hidden ml-2"></span>
        </button>
      </div>
    </form>

    <div id="result" class="mt-8 p-6 bg-[#000000] rounded-lg text-center hidden">
      <p class="text-[#FFD700]">Predicted Annual Salary:</p>
      <p id="prediction-text" class="text-4xl font-bold text-[#FFD700]"></p>
    </div>

    <footer class="mt-10 text-center text-sm text-[#FFD700]">
      <p>¬© 2025 SalaryPredictor.ai | Built with ‚ù§Ô∏è for professionals</p>
    </footer>
  </div>

  <script>
    const form = document.getElementById('salary-form');
    const resultDiv = document.getElementById('result');
    const predictionText = document.getElementById('prediction-text');
    const submitButton = document.getElementById('submit-button');
    const buttonText = document.querySelector('#submit-button .button-text');
    const spinner = document.querySelector('#submit-button .spinner');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      buttonText.textContent = 'Predicting...';
      spinner.classList.remove('hidden');
      submitButton.disabled = true;
      resultDiv.classList.add('hidden');
      resultDiv.classList.remove('fade-in-up');

      const formData = new FormData(form);
      const data = {
        jobTitle: formData.get('jobTitle'),
        education: formData.get('education'),
        experience: formData.get('experience'),
        age: formData.get('age')
      };

      try {
        await new Promise(resolve => setTimeout(resolve, 500));
        const response = await fetch('/predict', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });
        const result = await response.json();

        if (result.predicted_salary) {
          const formattedSalary = new Intl.NumberFormat('en-IN', {
            style: 'currency',
            currency: 'INR',
            minimumFractionDigits: 0,
            maximumFractionDigits: 0
          }).format(result.predicted_salary);
          predictionText.textContent = formattedSalary;
        } else {
          predictionText.textContent = 'Error: ' + (result.error || 'Prediction failed.');
        }
      } catch (error) {
        predictionText.textContent = 'Error: Could not connect to the server.';
      } finally {
        resultDiv.classList.remove('hidden');
        resultDiv.classList.add('fade-in-up');
        buttonText.textContent = 'Predict Salary';
        spinner.classList.add('hidden');
        submitButton.disabled = false;
      }
    });
  </script>
</body>
</html>